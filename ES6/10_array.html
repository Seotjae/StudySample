<html>
    <head>
        <meta charset="UTF-8">
        <title>ECMA SCRIPT</title>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    </head>
    <body>
        <h3 id="title">배열의 새로운 기능들</h3>
        <p>ES6 에 추가된 기능들</p>
        <p>map : 배열의 값을 하나씩 꺼낼 수 있고, 새로운 배열로 반환 가능하다.</p>
        <p>filter : 특정 조건을 만족하는 값만을 추출해서 새로운 배열로 만들 수 있다.</p>

        <p>find : 배열 내 원하는 조건을 만족하는 값을 꺼낸다. (하나만 가능)</p>
        <p>findIndex : 배열 내 원하는 조건을 만족하는 인덱스를 꺼낸다. (하나만 가능)</p>

        <p>every : 배열 안의 모든 값이 조건을 만족하는지 확인</p>
        <p>some : every 와 달리 하나만 만족해도 된다.</p>

        <p>reduce : 배열 안의 모든 값을 누적합 시킨다.</p>
        <p>includes : 특정한 값이 배열에 포함되어 있는지 확인</p>
    </body>
    <script>    
        $('title').html($('#title').html());

        const infos = [
            {id:1, name:'kim',grade:'A', score:95},
            {id:2, name:'lee',grade:'C', score:70},
            {id:3, name:'park',grade:'B', score:82},
            {id:4, name:'na',grade:'A', score:93},
            {id:5, name:'la',grade:'C', score:71},
            {id:6, name:'ma',grade:'C', score:70}
        ];   

        /*
        //map : 배열의 값을 하나씩 꺼낼 수 있고, 새로운 배열로 반환 가능
        let newList = infos.map((item,index,array)=>{
            //console.log(index,item);
            //console.log(array);
            return item;
        });
        console.log(newList);
        */

        //infos 에 있는 값을 하나씩 빼서 name 을 'kim 학생' 형식으로 변경해서 새로운 배열을 만들 것
        //console.log(infos);
        var newList;
        let newArray = infos.map((item,index,array)=>{
            item.name += ' 학생';
            console.log(item.name);
            newList = array;
            return item;
        });
        console.log(newArray);
        console.log(newList);

        //배열의 특정한 값만을 빼서 배열로 만들 수 있다.
        let idList = infos.map(item => item.id);
        console.log(idList);


        //* filter : 특정한 조건을 만족하는 값만을 추출해서 새로운 배열로 만들 수 있다.
        let supple = infos.filter(item =>{
            return item.grade == 'C';
        });
        console.log('보충 반 : ',supple);


        //find : 배열 내 원하는 조건을 만족하는 값을 꺼낸다.
        let result = infos.find(item => item.grade == 'A');
        console.log(result);
        //findIndex : 배열 내 원하는 조건을 만족하는 인덱스를 꺼낸다.
        result = infos.findIndex(item => item.grade == 'A');
        console.log(result);


        //every : 배열 안의 '모든 값'이 조건을 만족하는지 확인
        let pass = infos.every(item => item.score > 70);
        console.log('배열 안의 전체 데이터가 70보다 큰가? : ',pass);
        //some : every 와 달리 '하나만' 만족해도 된다.
        pass = infos.some(item => item.score > 70);
        console.log('배열 안의 하나의 데이터가 70보다 큰가? : ',pass);



        const numbers = [1,2,3,4,5,6,7,8,9,10];

        //reduce : 배열 안의 모든 값을 누적합 시킨다.
        //reduce((합계값,현재값)=>[],초기값);
        //초기값은 생략하면 배열의 첫번째 값으로 한다.
        let total = numbers.reduce((sum,curr) => {
            console.log(sum,curr);
            return sum + curr;
        },0);
        console.log('total : ',total); 

        //*includes : 특정한 값이 배열에 포함되어 있는지 확인
        let contains = numbers.includes(11);
        console.log(contains);
        //includes 는 문자열에도 사용 가능하다.
        let str = '가나다라마바사아자차카타파하';
        console.log('마바 가 포함 되었나?', str.includes('마바'));



    </script>
</html>